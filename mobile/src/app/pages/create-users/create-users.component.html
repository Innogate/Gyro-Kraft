<div class="flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-300 min-h-screen p-6">
  <div class="bg-white shadow-2xl rounded-2xl w-full max-w-5xl overflow-hidden grid grid-cols-1 md:grid-cols-2">
    <!-- Left Side - Image and Title -->
    <div
      class="flex flex-col items-center justify-center bg-gradient-to-br from-blue-600 to-indigo-600 text-white p-10">
      <label for="profileImageInput"
        class="w-52 h-52 rounded-full bg-white flex items-center justify-center shadow-xl mb-6 cursor-pointer overflow-hidden relative">
        <input id="profileImageInput" type="file" accept="image/*" class="hidden" (change)="onFileSelected($event)" />
        <img *ngIf="previewUrl" [src]="previewUrl" alt="Profile" class="w-full h-full object-cover" />
        <i *ngIf="!previewUrl" class="pi pi-user text-6xl text-blue-600 absolute"></i>
      </label>

      <div class="flex items-center justify-between mt-2 px-4 border rounded-lg bg-white border-blue-50">
        <h2 class="text-2xl font-bold text-gray-800 pr-4 pt-2">User Profile</h2>
      
        <!-- Styled Toggle Button -->
        <button *ngIf="update_mode"
                pButton
                type="button"
                [label]="isEnabled ? 'Enable' : 'Disable'"
                [style.backgroundColor]="isEnabled ? '#3B82F6' : '#DC2626'"  
                class="text-white font-medium rounded  shadow-lg shadow-[#5f5d5d]"
                (click)="toggle()">
        </button>      
      </div>
      
    </div>

    <!-- Right Side - Form -->
    <div class="bg-white p-10 space-y-5">
      <form [formGroup]="userForm" (ngSubmit)="submit()" class="space-y-4">

        <!-- Name -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-user text-blue-600"></i></span>
          <input type="text" pInputText class="w-full" placeholder="Name" formControlName="name" />
        </div>
        <small *ngIf="userForm.get('name')?.touched && userForm.get('name')?.invalid" class="p-error block">
          Name is required.
        </small>

        <!-- Phone -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-phone text-blue-600"></i></span>
          <input type="number" pInputText class="w-full" placeholder="Phone No" formControlName="phone" />
        </div>
        <small *ngIf="userForm.get('phone')?.touched && userForm.get('phone')?.invalid" class="p-error block">
          Phone number is required and must be at least 10 digits.
        </small>

        
          <!-- Checkbox with label -->
          <div class="flex items-center gap-2 ">
            <p-checkbox binary="true" [formControl]="sameWhatsappControl"
              (onChange)="onCheckboxChange($event)"></p-checkbox>
            <label for="sameWhatsappControl" class="text-sm">Same as Phone No</label>
          </div>
        



        <!-- WhatsApp -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-whatsapp text-green-500"></i></span>
          <input type="number" pInputText class="w-full" placeholder="WhatsApp No" formControlName="whatsapp" />
        </div>
        <small *ngIf="userForm.get('whatsapp')?.touched && userForm.get('whatsapp')?.invalid" class="p-error block">
          WhatsApp number is required.
        </small>



        <!-- Email -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-envelope text-blue-600"></i></span>
          <input type="email" pInputText class="w-full" placeholder="Email" formControlName="email" />
        </div>
        <small *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid" class="p-error block">
          A valid email is required.
        </small>

        <!-- Address -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-home text-blue-600"></i></span>
          <input type="text" pInputText class="w-full" placeholder="Address" formControlName="address" />
        </div>

        <!-- Role -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon">
            <i class="pi pi-briefcase text-purple-600"></i>
          </span>
          <p-dropdown [options]="roleOptions" optionLabel="label" optionValue="value" placeholder="Select Role"
            formControlName="role" class="w-full">
          </p-dropdown>
        </div>







        <!-- Password -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-lock text-blue-600"></i></span>
          <input type="password" pInputText class="w-full" placeholder="Password" formControlName="password" />
        </div>
        <small *ngIf="userForm.get('password')?.touched && userForm.get('password')?.invalid" class="p-error block">
          Password is required and must be at least 6 characters.
        </small>

        <!-- Confirm Password -->
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-lock text-blue-600"></i></span>
          <input type="password" pInputText class="w-full" placeholder="Confirm Password"
            formControlName="confirmPassword" />
        </div>
        <small *ngIf="userForm.hasError('mismatch') && userForm.get('confirmPassword')?.touched" class="p-error block">
          Passwords do not match.
        </small>

        <!-- Submit Button -->
        <div class="pt-4">
          <button pButton type="submit" label="Submit" icon="pi pi-check" class="w-full p-button-info p-button-rounded"
            [disabled]="userForm.invalid"></button>
        </div>
      </form>
    </div>
  </div>
</div>